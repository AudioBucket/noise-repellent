@prefix doap: <http://usefulinc.com/ns/doap#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix lv2:  <http://lv2plug.in/ns/lv2core#> .
@prefix pprop: <http://lv2plug.in/ns/ext/port-props#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix param: <http://lv2plug.in/ns/ext/parameters#> .
@prefix pg: <http://lv2plug.in/ns/ext/port-groups#> .
@prefix units: <http://lv2plug.in/ns/extensions/units#> .

<http://example.com/lucianodato#me>
  a foaf:Person ;
  foaf:name "Luciano Dato" ;
  foaf:homepage <https://github.com/lucianodato> ;
  foaf:mbox <mailto:lucianodato@gmail.com> .


<https://github.com/lucianodato/noise-repellent>
  a lv2:Plugin, lv2:SpectralPlugin, lv2:UtilityPlugin, doap:Project ;
  doap:maintainer <http://example.com/lucianodato#me> ;
  doap:license <https://opensource.org/licenses/LGPL-3.0> ;
  doap:name "Noise Repellent" ;
  lv2:optionalFeature lv2:hardRTCapable ;

  lv2:port [
    a lv2:ControlPort,
      lv2:InputPort ;
    lv2:index 0 ;
    lv2:symbol "capture" ;
    lv2:name "Capture noise print" ;
    lv2:minimum 0 ;
    lv2:maximum 1 ;
    lv2:default 0 ;
    lv2:portProperty lv2:toggled, lv2:integer ;
    # lv2:scalePoint [
    # 	rdfs:label "OFF" ;
		#   rdf:value 0
		# ] , [
		#   rdfs:label "ON" ;
		#   rdf:value 1
		# ]
    # , [
		#  rdfs:label "AUTO" ;
		#  rdf:value 2
		# ]
  # ], [
  #   a lv2:ControlPort,
  #     lv2:InputPort ;
  #   lv2:index 1 ;
  #   lv2:symbol "noise_thresh" ;
  #   lv2:name "Threshold for AUTO capture" ;
  #   lv2:minimum -120.0 ;
  #   lv2:maximum 0.0 ;
  #   lv2:default 0.0 ;
  #   units:unit units:db ;
  ], [
    a lv2:ControlPort,
      lv2:InputPort ;
    lv2:index 1 ;
    lv2:symbol "noise_statistic" ;
    lv2:name "Noise Statistic Option" ;
    lv2:minimum 0 ;
    lv2:maximum 2 ;
    lv2:default 0 ;
    lv2:portProperty lv2:enumeration, lv2:integer ;
    lv2:scalePoint [
    	rdfs:label "Max" ;
		  rdf:value 0
		] , [
		  rdfs:label "Geometric Average" ;
		  rdf:value 1
		] , [
		  rdfs:label "Average" ;
		  rdf:value 2
		]
  ], [
    a lv2:ControlPort,
      lv2:InputPort ;
    lv2:index 2 ;
    lv2:symbol "denoisemethod" ;
    lv2:name "Denoise algorithm" ;
    lv2:minimum 0 ;
    lv2:maximum 3 ;
    lv2:default 3 ;
    lv2:portProperty lv2:enumeration, lv2:integer ;
    lv2:scalePoint [
    	rdfs:label "Wiener Sustraction" ;
		  rdf:value 0
	  ] , [
		  rdfs:label "Spectral Subtraction" ;
		  rdf:value 1
		] , [
		  rdfs:label "Ephraim-Malah" ;
		  rdf:value 2
		] , [
		  rdfs:label "CMSR" ;
		  rdf:value 3
		]
  ], [
      a lv2:ControlPort,
        lv2:InputPort ;
      lv2:index 3 ;
      lv2:symbol "det_smooth" ;
      lv2:name "Detection Smoothing" ;
      lv2:minimum 0.0 ;
      lv2:maximum 1.0 ;
      lv2:default 0.0 ;
  ], [
    a lv2:ControlPort,
      lv2:InputPort ;
    lv2:index 4 ;
    lv2:symbol "amountreduc" ;
    lv2:name "Reduction Amount" ;
    lv2:minimum 0.0 ;
    lv2:maximum 48.0 ;
    lv2:default 0.0 ;
    units:unit units:db ;
  ], [
    a lv2:ControlPort,
      lv2:InputPort ;
    lv2:index 5 ;
    lv2:symbol "smoothing" ;
    lv2:name "Reduction Frequency Smoothing" ;
    lv2:portProperty lv2:integer ;
    lv2:minimum 0 ;
    lv2:maximum 12 ;
    lv2:default 0 ;
  ], [
    a lv2:ControlPort,
      lv2:InputPort ;
    lv2:index 6 ;
    lv2:symbol "time_smoothing" ;
    lv2:name "Reduction Smoothing" ;
    lv2:minimum 0.0 ;
    lv2:maximum 1.0 ;
    lv2:default 0.0 ;
  ], [
    a lv2:ControlPort,
      lv2:InputPort ;
    lv2:index 7 ;
    lv2:symbol "over_reduc" ;
    lv2:name "Reduction Strenght" ;
    lv2:minimum 1.0 ;
    lv2:maximum 12.0 ;
    lv2:default 1.0 ;
  ], [
    a lv2:OutputPort,
      lv2:ControlPort ;
    lv2:name "latency" ;
    lv2:index 8 ;
    lv2:symbol "latency" ;
    lv2:minimum 0 ;
		lv2:maximum 8196 ;
		lv2:portProperty lv2:reportsLatency, lv2:integer ;
		units:unit units:frame ;
  ], [
		a lv2:InputPort,
			lv2:ControlPort ;
		lv2:index 9 ;
		lv2:symbol "whitening" ;
		lv2:name "Noise Whitening" ;
		lv2:default 0 ;
		lv2:minimum 0 ;
		lv2:maximum 1 ;
		lv2:portProperty lv2:toggled, lv2:integer ;
	], [
		a lv2:InputPort,
			lv2:ControlPort ;
		lv2:index 10 ;
		lv2:symbol "reset_noise_print" ;
		lv2:name "Reset Noise Print" ;
		lv2:default 0 ;
		lv2:minimum 0 ;
		lv2:maximum 1 ;
		lv2:portProperty lv2:integer, lv2:toggled, pprop:trigger ;
	], [
		a lv2:InputPort,
			lv2:ControlPort ;
		lv2:index 11 ;
		lv2:symbol "noise_listen" ;
		lv2:name "Noise Listen" ;
		lv2:default 0 ;
		lv2:minimum 0 ;
		lv2:maximum 1 ;
		lv2:portProperty lv2:toggled, lv2:integer ;
	], [
    a lv2:AudioPort,
      lv2:InputPort ;
    lv2:index 12 ;
    lv2:symbol "input" ;
    lv2:name "Input" ;
  ], [
    a lv2:AudioPort,
      lv2:OutputPort ;
    lv2:index 13 ;
    lv2:symbol "output" ;
    lv2:name "Output" ;
  ];
  rdfs:comment "Instructions: Select a section of noise only in your track and loop it. Turn on noise capture for one second or two to learn the noise profile and then turn it off. You can now adjust the reduction. For Hum noise use Max with CMSR. For White noise use Spectral Subtraction with Average and smoothing as you like and much higher reduction strenght" ;
.
